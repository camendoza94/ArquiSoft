<!--Based on: Sari Haj Hussein-->
<div role="main" class="container">
	<div class="row">
		<div class="span12">
            <div class="col-md-8 col-md-offset-2">
                <div data-ng-show="campo.id"><h2>Detalles del campo</h2></div>
                <div data-ng-show="campo.id==null"><h2>Agregar campo</h2></div>

            <form name="detailForm" role="form" class="form-horizontal">
            <fieldset>
                <div class="control-group">
                    <label class="control-label" for="nombre">Nombre</label>
                    <input type="text" class="form-control" id="nombre" name="nombre" data-ng-model="campo.nombre" placeholder="Introduzca el nombre" required>
                    <span data-ng-show="detailForm.nombre.$error.required" class="help-inline">Requerido</span>
                </div>


                <div class="control-group">
                    <label class="control-label" for="latitud">Latitud</label>
                    <input type="number" class="form-control" id="latitud" name="latitud" data-ng-model="campo.latitud" placeholder="Introduzca la latitud" required>
                    <span data-ng-show="detailForm.latitud.$error.required" class="help-inline">Requerido</span>
                    <span data-ng-show="detailForm.latitud.$error.number" class="help-inline">No es un número</span>
                </div>

                <div class="control-group">
                    <label class="control-label" for="longitud">Longitud</label>
                    <input type="number" class="form-control" id="longitud" name="longitud" data-ng-model="campo.longitud" placeholder="Introduzca la longitud" required>
                    <span data-ng-show="detailForm.longitud.$error.required" class="help-inline">Requerido</span>
                    <span data-ng-show="detailForm.longitud.$error.number" class="help-inline">No es un número</span>
                </div>

                <div class="control-group" data-ng-show ="campo.id">
                    <label class="control-label" for="pozo">Pozos</label>
                    <table id="pozo" class="table table-striped table-bordered">
                        <thead>
                        <tr> <a href="" onclick="window.location.reload()"><i class="glyphicon glyphicon-refresh"></i> Actualizar </a></tr>
                        <tr>
                            <th data-ng-show="campo.pozos.length > 0">ID</th>
                            <th data-ng-show="campo.pozos.length > 0">Estado</th>
                            <th data-ng-show="campo.pozos.length == 0">Todavía no hay pozos para esta región. ¡Agrega uno!</th>
                            <th><a href="/campo/{{campo.id}}/pozo/create"><i class="glyphicon glyphicon-plus-sign"></i></a></th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="pozo in campo.pozos| orderBy:['nombre']">
                            <td> {{pozo.id}}</td>
                            <td> {{pozo.estado}}</td>
                            <td><a href="/pozo/edit/{{pozo.id}}"><i class="glyphicon glyphicon-pencil"></i></a></td>
                        </tr>
                        </tbody>
                    </table>

                    </div>

                <br />

                <button data-ng-click="go('/campo')" class="btn btn-default">Cancelar</button>
                <button data-ng-click="save()" data-ng-disabled="noChange() || detailForm.$invalid" class="btn btn-primary">Guardar</button>
                <button data-ng-click="delete()" data-ng-show="campo.id" class="btn btn-danger">Borrar</button>
            </fieldset>
            </form>
            </div>
		</div>
	</div>
</div>