<!--Based on: Sari Haj Hussein-->
<div role="main" class="container">
    <div class="row">
        <div class="span12">
            <div class="col-md-8 col-md-offset-2">
                <div data-ng-show="pozo.id"><h2>Detalles del pozo</h2></div>
                <div data-ng-show="pozo.id==null"><h2>Agregar pozo</h2></div>

                <form name="detailForm" role="form" class="form-horizontal">
                    <fieldset>
                        <div class="control-group">
                            <label class="control-label" for="estado">Estado</label>
                            <input type="text" class="form-control" id="estado" name="estado" data-ng-model="pozo.estado" placeholder="Introduzca el estado" required>
                            <span data-ng-show="detailForm.estado.$error.required" class="help-inline">Requerido</span>
                        </div>

                        <div class="control-group" data-ng-show ="pozo.id">
                            <label class="control-label" for="sensor">Sensores</label>
                            <table id="sensor" class="table table-striped table-bordered">
                                <thead>
                                <tr> <a href="" onclick="window.location.reload()"><i class="glyphicon glyphicon-refresh"></i> Actualizar </a></tr>
                                <tr>
                                    <th data-ng-show="pozo.sensores.length > 0">Nombre</th>
                                    <th data-ng-show="pozo.sensores.length > 0">Tipo Sensor</th>
                                    <th data-ng-show="pozo.sensores.length == 0">Todavía no hay sensores para este pozo. ¡Agrega uno!</th>
                                    <th><a href="/pozo/{{pozo.id}}/sensor/create"><i class="glyphicon glyphicon-plus-sign"></i></a></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr ng-repeat="sensor in pozo.sensores| orderBy:['nombre']">
                                    <td class="pad">{{sensor.nombre}} </td>
                                    <td class="pad">{{sensor.tipo}} </td>
                                    <td><a href="/sensor/edit/{{sensor.id}}"><i class="glyphicon glyphicon-pencil"></i></a></td>
                                </tr>
                                </tbody>
                            </table>

                        </div>

                        <br />

                        <button data-ng-click="go('/pozo')" class="btn btn-default">Cancelar</button>
                        <button data-ng-click="save()" data-ng-disabled="noChange() || detailForm.$invalid" class="btn btn-primary">Guardar</button>
                        <button data-ng-click="delete()" data-ng-show="pozo.id" class="btn btn-danger">Borrar</button>
                    </fieldset>
                </form>
            </div>
        </div>
    </div>
</div>